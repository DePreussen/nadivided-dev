add_namespace = oklahoma

country_event = {
    id = oklahoma.1
    title = oklahoma.1.t
    desc = oklahoma.1.d
    #picture = GFX_

    fire_only_once = yes

    trigger = {
        date > 1936.4.15
        tag = SOK
    }

    mean_time_to_happen = {
        days = 1
    }

    option = {
        name = oklahoma.1.a
        ai_chance = {
            factor = 60
            modifier = {
                add = 40
                is_historical_focus_on = yes
            }
        }
        SLA = {
            country_event = {
                id = louisiana.2
                days = 5
            }
        }
        STX = {
            country_event = {
                id = oklahoma.4
                days = 12
            }
        }
    }
    option = {
        name = oklahoma.1.b
        ai_chance = {
            factor = 40
            modifier = {
                add = -40
                is_historical_focus_on = yes
            }
        }
    }
}
country_event = {
    id = oklahoma.2
    title = oklahoma.2.t
    desc = oklahoma.2.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.2.a
    }
}
country_event = {
    id = oklahoma.3
    title = oklahoma.3.t
    desc = oklahoma.3.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.3.a
    }
}

country_event = {
    id = oklahoma.4
    title = oklahoma.4.t
    desc = oklahoma.4.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.4.a
        ai_chance = {
            factor = 100
        }
        declare_war_on = {
            type = annex_everything
            target = SOK
        }
        if = {
            limit = {
                SOK = {
                    is_guaranteed_by = SLA
                }
            }
            declare_war_on = {
                type = annex_everything
                target = SLA
            }
        }
        hidden_effect = {
            set_global_flag = red_river_war_has_begun
            SLA = {
                country_event = {
                    id = louisiana.3
                    days = 180
                }
            }
        }
    }
    option = {
        name = oklahoma.4.b
        ai_chance = {
            factor = 0
        }
        add_political_power = -25
    }
}
country_event = {
    id = oklahoma.5
    title = oklahoma.5.t
    desc = oklahoma.5.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.5.a
        ai_chance = {
            factor = 100
        }
        STX = {
            country_event = {
                id = oklahoma.6
            }
        }
    }
    option = {
        name = oklahoma.5.b
        ai_chance = {
            factor = 0
        }
        STX = {
            country_event = {
                id = oklahoma.6
            }
        }
        custom_effect_tooltip = SOK_not_part_of_peace_tt
        hidden_effect = {
            set_global_flag = SOK_denied_peace
        }
    }
}
country_event = {
    id = oklahoma.6
    title = oklahoma.6.t
    desc = oklahoma.6.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.6.a
        ai_chance = {
            factor = 100
            modifier = {
                add = -20
                is_historical_focus_on = no
            }
            modifier = {
                add = 20
                enemies_strength_ratio > 1
            }
            modifier = {
                add = 100
                enemies_strength_ratio > 1.25
            }
        }
        SLA = {
            transfer_state = 222
            transfer_state = 223
            transfer_state = 163
        }
        white_peace = SLA
        set_truce = {
            target = SLA
            days = 180
        }
        if = {
            limit = {
                NOT = {
                    has_global_flag = SOK_denied_peace
                }
            }
            SOK = {
                transfer_state = 153
            }
            white_peace = SOK
            set_truce = {
                target = SOK
                days = 180
            }
        }
        else = {
            hidden_effect = {
                clr_global_flag = SOK_denied_peace
            }
        }
        hidden_effect = {
            clr_global_flag = red_river_war_has_begun
        }
    }
    option = {
        name = oklahoma.6.b
        ai_chance = {
            factor = 0
            modifier = {
                add = 20
                is_historical_focus_on = no
            }
        }
        add_stability = -0.1
        add_war_support = -0.1
    }
}
country_event = {
    id = oklahoma.7
    title = oklahoma.7.t
    desc = oklahoma.7.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.7.a
        ai_chance = {
            factor = 100
        }
        STX = {
            country_event = {
                id = oklahoma.8
            }
        }
    }
    option = {
        name = oklahoma.7.b
        ai_chance = {
            factor = 0
        }
        STX = {
            country_event = {
                id = oklahoma.8
            }
        }
        custom_effect_tooltip = SOK_not_part_of_peace_tt
        hidden_effect = {
            set_global_flag = SOK_denied_peace
        }
    }
}
country_event = {
    id = oklahoma.8
    title = oklahoma.8.t
    desc = oklahoma.8.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.8.a
        ai_chance = {
            factor = 100
            modifier = {
                add = -20
                is_historical_focus_on = no
            }
            modifier = {
                add = 20
                enemies_strength_ratio > 1
            }
            modifier = {
                add = 100
                enemies_strength_ratio > 1.25
            }
        }
        SLA = {
            transfer_state = 222
        }
        white_peace = SLA
        set_truce = {
            target = SLA
            days = 90
        }
        if = {
            limit = {
                NOT = {
                    has_global_flag = SOK_denied_peace
                }
            }
            SOK = {
                transfer_state = 153
            }
            white_peace = SOK
            set_truce = {
                target = SOK
                days = 90
            }
        }
        else = {
            hidden_effect = {
                clr_global_flag = SOK_denied_peace
            }
        }
        hidden_effect = {
            clr_global_flag = red_river_war_has_begun
        }
    }
    option = {
        name = oklahoma.8.b
        ai_chance = {
            factor = 0
            modifier = {
                add = 20
                is_historical_focus_on = no
            }
        }
        add_stability = -0.05
        add_war_support = -0.1
    }
}
country_event = {
    id = oklahoma.9
    title = oklahoma.9.t
    desc = oklahoma.9.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.9.a
        ai_chance = {
            factor = 100
        }
        STX = {
            country_event = {
                id = oklahoma.10
            }
        }
    }
    option = {
        name = oklahoma.9.b
        ai_chance = {
            factor = 0
        }
        STX = {
            country_event = {
                id = oklahoma.10
            }
        }
        custom_effect_tooltip = SOK_not_part_of_peace_tt
        hidden_effect = {
            set_global_flag = SOK_denied_peace
        }
    }
}
country_event = {
    id = oklahoma.10
    title = oklahoma.10.t
    desc = oklahoma.10.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.8.a
        ai_chance = {
            factor = 100
            modifier = {
                add = -20
                is_historical_focus_on = no
            }
            modifier = {
                add = 20
                enemies_strength_ratio < 1
            }
            modifier = {
                add = 100
                enemies_strength_ratio < 0.75
            }
        }
        STX = {
            transfer_state = 75
        }
        white_peace = SLA
        set_truce = {
            target = SLA
            days = 180
        }
        if = {
            limit = {
                NOT = {
                    has_global_flag = SOK_denied_peace
                }
            }
            STX = {
                transfer_state = 152
            }
            white_peace = SOK
            set_truce = {
                target = SOK
                days = 180
            }
        }
        else = {
            hidden_effect = {
                clr_global_flag = SOK_denied_peace
            }
        }
        hidden_effect = {
            clr_global_flag = red_river_war_has_begun
        }
    }
    option = {
        name = oklahoma.8.b
        ai_chance = {
            factor = 0
            modifier = {
                add = 20
                is_historical_focus_on = no
            }
        }
        add_stability = -0.1
        add_war_support = -0.05
    }
}
country_event = {
    id = oklahoma.11
    title = oklahoma.11.t
    desc = oklahoma.11.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.11.a
        ai_chance = {
            factor = 100
        }
        STX = {
            country_event = {
                id = oklahoma.12
            }
        }
    }
    option = {
        name = oklahoma.11.b
        ai_chance = {
            factor = 0
        }
        STX = {
            country_event = {
                id = oklahoma.12
            }
        }
        custom_effect_tooltip = SOK_not_part_of_peace_tt
        hidden_effect = {
            set_global_flag = SOK_denied_peace
        }
    }
}
country_event = {
    id = oklahoma.12
    title = oklahoma.12.t
    desc = oklahoma.12.d
    #picture = GFX_

    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = oklahoma.12.a
        ai_chance = {
            factor = 100
            modifier = {
                add = -20
                is_historical_focus_on = no
            }
            modifier = {
                add = 20
                enemies_strength_ratio > 1
            }
            modifier = {
                add = 100
                enemies_strength_ratio > 1.25
            }
        }
        white_peace = SLA
        set_truce = {
            target = SLA
            days = 90
        }
        if = {
            limit = {
                NOT = {
                    has_global_flag = SOK_denied_peace
                }
            }
            white_peace = SOK
            set_truce = {
                target = SOK
                days = 90
            }
        }
        else = {
            hidden_effect = {
                clr_global_flag = SOK_denied_peace
            }
        }
        hidden_effect = {
            clr_global_flag = red_river_war_has_begun
        }
    }
    option = {
        name = oklahoma.12.b
        ai_chance = {
            factor = 0
            modifier = {
                add = 20
                is_historical_focus_on = no
            }
        }
        add_stability = -0.05
        add_war_support = -0.05
    }
}