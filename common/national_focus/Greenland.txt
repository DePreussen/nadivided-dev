focus_tree = {
    id = Greenland_focus_tree

    country = {
        factor = 0
        modifier = {
            add = 10
            tag = GRE
        }
    }

    initial_show_position = {
		focus = GRE_forced_colonization
	}

    continuous_focus_position = { x = 50 y = 2000 }

#FOCUS_FILTER_STABILITY
#FOCUS_FILTER_INDUSTRY
#FOCUS_FILTER_ANNEXATION
#FOCUS_FILTER_MANPOWER
#FOCUS_FILTER_POLITICAL
#FOCUS_FILTER_RESEARCH
#FOCUS_FILTER_WAR_SUPPORT

#################################################
###################Colonization##################
#################################################
    focus = {
        id = GRE_make_colonization_a_privilige
        icon = GFX_focus_colonize_greenland
        mutually_exclusive = { focus = GRE_dig_into_the_ice}
        mutually_exclusive = { focus = GRE_forced_colonization}
        x = 6
        y = 0
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = yes
        
        completion_reward = {
            add_ideas = GRE_colonizing_greenland
            custom_effect_tooltip = GRE_colonization_tt
            custom_effect_tooltip = GRE_privilige_colonization_tt
            unlock_decision_category_tooltip = GRE_colonization
            hidden_effect = {
                set_up_colonization_focus = yes
                set_variable = { colonization_max = 2 }
                set_variable = { colonization_current = 0 }
            }
        }
    }
    focus = {
        id = GRE_salt_water_distilation
        icon = GFX_goal_generic_scientific_exchange
        prerequisite = { focus = GRE_make_colonization_a_privilige}
        x = -1
        y = 1
        relative_position_id = GRE_make_colonization_a_privilige
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_MANPOWER }

        completion_reward = {
            custom_effect_tooltip = GRE_gain_additional_population_when_a_colony_is_finished_tt
        }
    }
    focus = {
        id = GRE_geological_studies
        icon = GFX_goal_generic_construction2
        prerequisite = { focus = GRE_make_colonization_a_privilige}
        x = 1
        y = 1
        relative_position_id = GRE_make_colonization_a_privilige
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_ideas = GRE_expert_geologiests
        }
    }
    focus = {
        id = GRE_dig_into_the_ice
        icon = GFX_focus_colonize_greenland
        mutually_exclusive = { focus = GRE_make_colonization_a_privilige}
        mutually_exclusive = { focus = GRE_forced_colonization}
        x = 14
        y = 0
        cost = 10
        ai_will_do = {
            factor = 0
        }
        available_if_capitulated = yes

        completion_reward = {
            add_ideas = GRE_colonizing_greenland
            custom_effect_tooltip = GRE_colonization_tt
            custom_effect_tooltip = GRE_dig_into_ice_tt
            unlock_decision_category_tooltip = GRE_colonization
            hidden_effect = {
                set_up_colonization_focus = yes
                set_variable = { colonization_max = 2 }
                set_variable = { colonization_current = 0 }
            }
        }
    }
    focus = {
        id = GRE_an_underground_home
        icon = GFX_goal_generic_construct_civilian
        prerequisite = { focus = GRE_dig_into_the_ice}
        x = -1
        y = 1
        relative_position_id = GRE_dig_into_the_ice
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            custom_effect_tooltip = GRE_extra_slots_for_massive_lake_tt
            every_owned_state = {
                limit = {
                    has_state_flag = GRE_already_discovered_lake_local
                }
                add_extra_state_shared_building_slots = 1
            }
        }
    }
    focus = {
        id = GRE_improved_mining_techniques
        icon = GFX_goal_generic_construction2
        prerequisite = { focus = GRE_dig_into_the_ice}
        x = 1
        y = 1
        relative_position_id = GRE_dig_into_the_ice
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        
        completion_reward = {
            custom_effect_tooltip = GRE_1_more_colony
            add_to_variable = { colonization_max = 1 }
        }
    }
    focus = {
        id = GRE_forced_colonization
        icon = GFX_focus_colonize_greenland
        mutually_exclusive = { focus = GRE_make_colonization_a_privilige}
        mutually_exclusive = { focus = GRE_dig_into_the_ice}
        x = 10
        y = 0
        cost = 10
        ai_will_do = {
            factor = 0
        }
        available_if_capitulated = yes

        completion_reward = {
            add_ideas = GRE_colonizing_greenland
            custom_effect_tooltip = GRE_colonization_tt
            custom_effect_tooltip = GRE_forced_colonization_tt
            unlock_decision_category_tooltip = GRE_colonization
            hidden_effect = {
                set_up_colonization_focus = yes
                set_variable = { colonization_max = 3 }
                set_variable = { colonization_current = 0 }
            }
        }
    }
    focus = {
        id = GRE_relentless_colonization
        icon = GFX_focus_expand_the_minutemen
        prerequisite = { focus = GRE_forced_colonization}
        x = -1
        y = 1
        relative_position_id = GRE_forced_colonization
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_MANPOWER }

        completion_reward = {
            #swap_ideas = {
            #    add_idea = GRE_flood_the_glaciers
            #    remove_idea = GRE_colonizing_greenland
            #}
            custom_effect_tooltip = GRE_1_more_colony
            add_to_variable = { colonization_max = 1 }
        }
    }
    focus = {
        id = GRE_no_one_is_safe
        icon = GFX_focus_generic_manpower
        prerequisite = { focus = GRE_forced_colonization}
        x = 1
        y = 1
        relative_position_id = GRE_forced_colonization
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_MANPOWER }

        completion_reward = {
            swap_ideas = {
                add_idea = volunteer_only
                remove_idea = disarmed_nation
            }
        }
    }
    focus = {
        id = GRE_glacial_research_institute
        icon = GFX_focus_research2
        prerequisite = { focus = GRE_make_colonization_a_privilige focus = GRE_forced_colonization focus = GRE_dig_into_the_ice}
        available = {
            num_of_controlled_states > 9
        }
        x = 0
        y = 3
        relative_position_id = GRE_forced_colonization
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_RESEARCH }

        completion_reward = {
            add_ideas = GRE_glacial_research_institute
        }
    }
#################################################
################Post Colonization################
#################################################
    focus = {
        id = GRE_the_future_of_greenland
        icon = GFX_focus_greenland_flag
        prerequisite = { focus = GRE_glacial_research_institute}
        available = {
            #num_of_factories > 14
            NOT = {
                has_idea = GRE_isolation
            }
        }
        x = 0
        y = 1
        relative_position_id = GRE_glacial_research_institute
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            add_stability = 0.05
            add_war_support = 0.05
            add_manpower = 10000
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = GRE_look_outwards
        icon = GFX_focus_north_america
        prerequisite = { focus = GRE_the_future_of_greenland}
        prerequisite = { focus = GRE_make_colonization_a_privilige focus = GRE_forced_colonization}
        mutually_exclusive = { focus = GRE_a_life_underneath_the_ice}
        x = -4
        y = 1
        relative_position_id = GRE_the_future_of_greenland
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_political_power = 100
        }
    }
    focus = {
        id = GRE_missions_to_north_america
        icon = GFX_focus_north_america_diplomacy
        prerequisite = { focus = GRE_look_outwards}
        x = 0
        y = 1
        relative_position_id = GRE_look_outwards
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        
        completion_reward = {
            add_ideas = GRE_missions_to_north_america
        }
    }
    focus = {
        id = GRE_foreign_investments
        icon = GFX_focus_request_foreign_aid
        prerequisite = { focus = GRE_missions_to_north_america}
        x = -1
        y = 1
        relative_position_id = GRE_missions_to_north_america
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY }

        completion_reward = {
            add_stability = 0.1
        }
    }
    focus = {
        id = GRE_foreign_military_industry
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = GRE_foreign_investments}
        x = 0
        y = 1
        relative_position_id = GRE_foreign_investments
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = GRE_domestic_investments
        icon = GFX_goal_generic_investments
        prerequisite = { focus = GRE_missions_to_north_america}
        x = 1
        y = 1
        relative_position_id = GRE_missions_to_north_america
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_political_power = 100
        }
    }
    focus = {
        id = GRE_domestic_civilian_industry
        icon = GFX_goal_generic_construct_civ_factory
        prerequisite = { focus = GRE_domestic_investments}
        x = 0
        y = 1
        relative_position_id = GRE_domestic_investments
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = GRE_vast_and_developing
        icon = GFX_goal_generic_consumer_goods
        prerequisite = { focus = GRE_foreign_military_industry}
        prerequisite = { focus = GRE_domestic_civilian_industry}
        x = 1
        y = 1
        relative_position_id = GRE_foreign_military_industry
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            add_ideas = GRE_vast_and_developing
        }
    }
    focus = {
        id = GRE_a_life_underneath_the_ice
        icon = GFX_goal_generic_construct_military
        prerequisite = { focus = GRE_the_future_of_greenland}
        prerequisite = { focus = GRE_dig_into_the_ice}
        mutually_exclusive = { focus = GRE_look_outwards}
        x = 4
        y = 1
        relative_position_id = GRE_the_future_of_greenland
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY }
        
        completion_reward = {
            add_stability = 0.1
        }
    }
    focus = {
        id = GRE_study_foreign_naval_designs
        icon = GFX_goal_generic_navy_doctrines_tactics
        prerequisite = { focus = GRE_look_outwards focus = GRE_a_life_underneath_the_ice }
        x = 3
        y = 1
        relative_position_id = GRE_look_outwards
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            navy_experience = 100
        }
    }
    focus = {
        id = GRE_study_foreign_army_designs
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = GRE_look_outwards focus = GRE_a_life_underneath_the_ice }
        x = 4
        y = 2
        relative_position_id = GRE_look_outwards
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            army_experience = 100
        }
    }
    focus = {
        id = GRE_study_foreign_air_designs
        icon = GFX_goal_generic_air_doctrine
        prerequisite = { focus = GRE_look_outwards focus = GRE_a_life_underneath_the_ice }
        x = 5
        y = 1
        relative_position_id = GRE_look_outwards
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            air_experience = 100
        }
    }
    focus = {
        id = GRE_move_the_capital
        icon = GFX_focus_generic_self_management
        prerequisite = { focus = GRE_a_life_underneath_the_ice}
        available = {
            custom_trigger_tooltip = {
                tooltip = GRE_at_least_one_state_with_massive_lake_discovered_tt
                any_owned_state = {
                    has_state_flag = GRE_already_discovered_lake_local
                }
            }
        }
        x = 0
        y = 1
        relative_position_id = GRE_a_life_underneath_the_ice
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_political_power = 50
            country_event = {
                id = greenland.27
            }
        }
    }
    focus = {
        id = GRE_rare_resource_extraction
        icon = GFX_focus_generic_chromium
        prerequisite = { focus = GRE_move_the_capital}
        x = -1
        y = 1
        relative_position_id = GRE_move_the_capital
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        
        completion_reward = {
            add_ideas = GRE_rare_resource_extraction
        }
    }
    focus = {
        id = GRE_dravern_industry
        icon = GFX_focus_generic_industry_3
        prerequisite = { focus = GRE_rare_resource_extraction}
        prerequisite = { focus = GRE_embrace_a_dwavern_spirit}
        x = 0
        y = 1
        relative_position_id = GRE_rare_resource_extraction
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_INDUSTRY }

        completion_reward = {
            random_owned_controlled_state = {
                limit = {
                    has_state_flag = GRE_already_discovered_lake_local
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                    instant_build = yes
                }
            }
            increase_dwavern_level = yes
        }
    }
    focus = {
        id = GRE_embrace_a_dwavern_spirit
        icon = GFX_goal_demand_sudetenland
        prerequisite = { focus = GRE_move_the_capital}
        x = 1
        y = 1
        relative_position_id = GRE_move_the_capital
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY }

        completion_reward = {
            add_stability = 0.05
            increase_dwavern_level = yes
        }
    }
    focus = {
        id = GRE_underground_living
        icon = GFX_goal_generic_fortify_city
        prerequisite = { focus = GRE_embrace_a_dwavern_spirit}
        x = 0
        y = 1
        relative_position_id = GRE_embrace_a_dwavern_spirit
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_political_power = 50
            increase_dwavern_level = yes
        }
    }
    focus = {
        id = GRE_norse_and_dwarvern
        icon = GFX_focus_norse
        prerequisite = { focus = GRE_underground_living}
        prerequisite = { focus = GRE_dravern_industry}
        x = -1
        y = 1
        relative_position_id = GRE_underground_living
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_WAR_SUPPORT }

        completion_reward = {
            increase_dwavern_level = yes
        }
    }
#################################################
############Expansion/Diplomatic Tree############
#################################################
    focus = {
        id = GRE_diplomatic_endeavors
        icon = GFX_focus_north_america_diplomacy
        prerequisite = { focus = GRE_norse_and_dwarvern focus = GRE_vast_and_developing}
        mutually_exclusive = { focus = GRE_viking_heritage}
        x = 0
        y = 2
        relative_position_id = GRE_vast_and_developing
        cost = 10
        ai_will_do = {
            factor = 2
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

        completion_reward = {
            add_stability = 0.05
            add_political_power = 100
        }
    }
    focus = {
        id = GRE_create_the_northern_league
        icon = GFX_focus_greenland_generic_diplomacy
        prerequisite = { focus = GRE_diplomatic_endeavors}
        x = 0
        y = 1
        relative_position_id = GRE_diplomatic_endeavors
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no

        completion_reward = {
            set_rule = {
                can_create_factions = yes
            }
            create_faction = NORTHERN_LEAGUE
        }
    }
    focus = {
        id = GRE_viking_heritage
        icon = GFX_focus_MOTHER_FUCKING_VIKINGS
        prerequisite = { focus = GRE_norse_and_dwarvern focus = GRE_vast_and_developing}
        mutually_exclusive = { focus = GRE_diplomatic_endeavors}
        x = 0
        y = 2
        relative_position_id = GRE_norse_and_dwarvern
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_MANPOWER }

        completion_reward = {
            add_ideas = GRE_viking_heritage
            set_politics = {
                ruling_party = fascism
            }
            create_country_leader = {
	
                name = "Oleif Hroksson"
                picture = "leaders//GRE//vikingboi.dds"
                expire = "1965.1.1"
                ideology = viking_dictatorship
                traits = {
                    #
                }
            }
            add_popularity = {
                ideology = fascism
                popularity = 0.5
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = GRE_reclaim_vinland
        icon = GFX_focus_norse
        prerequisite = { focus = GRE_viking_heritage}
        x = 0
        y = 1
        relative_position_id = GRE_viking_heritage
        cost = 10
        ai_will_do = {
            factor = 1
        }
        available_if_capitulated = no
        search_filters = { FOCUS_FILTER_ANNEXATION }

        completion_reward = {
            unlock_decision_category_tooltip = GRE_form_vinland
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
}